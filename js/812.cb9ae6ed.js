"use strict";(self["webpackChunktool"]=self["webpackChunktool"]||[]).push([[812],{2998:function(t,e,i){i.r(e),i.d(e,{default:function(){return u}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"_page"},[e("Header",[e("h1",{attrs:{slot:"title"},slot:"title"},[t._v("手机端代码生成器")])]),e("div",{staticClass:"computed flex-xb"},[e("div",{staticClass:"ev source"},[e("div",{staticClass:"head flex-yc flex-xb"},[e("p",[t._v("需要计算的内容")]),e("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-setting"},on:{click:t.switchConfig}},[t._v(" "+t._s(t.showConfig?"OK":"设置计算规则")+" ")])],1),e("textarea",{directives:[{name:"show",rawName:"v-show",value:!t.showConfig,expression:"!showConfig"},{name:"model",rawName:"v-model",value:t.oldStyle,expression:"oldStyle"}],domProps:{value:t.oldStyle},on:{input:function(e){e.target.composing||(t.oldStyle=e.target.value)}}}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showConfig,expression:"showConfig"}],staticClass:"config"},[e("el-collapse",{model:{value:t.collapseActive,callback:function(e){t.collapseActive=e},expression:"collapseActive"}},[e("el-collapse-item",{attrs:{title:"设置",name:"1"}},[e("el-form",{ref:"form",attrs:{model:t.config,"label-width":"10em"}},[e("el-form-item",{attrs:{label:"是否美化代码"}},[e("div",{staticClass:"input-tip"},[t._v("美化代码超过"+t._s(this.beautifyMax)+"行会严重影响效率，会自动关闭美化功能，可手动开启")]),e("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.config.isBeautify,callback:function(e){t.$set(t.config,"isBeautify",e)},expression:"config.isBeautify"}}),e("span",{staticStyle:{"margin-left":"20px"}},[t.config.isBeautify?e("el-tag",[t._v("美化")]):e("el-tag",{attrs:{type:"info"}},[t._v("不美化")])],1)],1),e("el-form-item",{attrs:{label:"是否自动复制结果"}},[e("div",{staticClass:"input-tip"},[t._v("生成代码后自动复制，大大提高效率")]),e("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.config.autoCopy,callback:function(e){t.$set(t.config,"autoCopy",e)},expression:"config.autoCopy"}}),e("span",{staticStyle:{"margin-left":"20px"}},[t.config.autoCopy?e("el-tag",[t._v("自动")]):e("el-tag",{attrs:{type:"info"}},[t._v("手动")])],1)],1),e("el-form-item",{attrs:{label:"是否保留小数"}},[e("div",{staticClass:"input-tip"},[t._v("计算后的值是否保留小数,如果保留会保留两位")]),e("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.config.decimal,callback:function(e){t.$set(t.config,"decimal",e)},expression:"config.decimal"}}),e("span",{staticStyle:{"margin-left":"20px"}},[t.config.decimal?e("el-tag",[t._v("保留")]):e("el-tag",{attrs:{type:"info"}},[t._v("不保留")])],1)],1),e("el-form-item",{attrs:{label:"记住配置"}},[e("div",{staticClass:"input-tip"},[t._v("记住配置，以便经常使用")]),e("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:t.changeSaveBtn},model:{value:t.config.saveConfig,callback:function(e){t.$set(t.config,"saveConfig",e)},expression:"config.saveConfig"}}),e("span",{staticStyle:{"margin-left":"20px"}},[t.config.saveConfig?e("el-tag",[t._v("历史配置")]):e("el-tag",{attrs:{type:"info"}},[t._v("默认配置")])],1),t.history?e("span",{staticStyle:{"margin-left":"40px"}},[e("el-button",{attrs:{type:"danger",round:""},on:{click:t.clearHistory}},[t._v("点击清除历史记录")])],1):t._e()],1),e("el-form-item",{attrs:{label:"测试信息"}},[e("div",{staticClass:"input-tip"},[t._v("在结果中显示匹配到的属性测试信息")]),e("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.config.testExp,callback:function(e){t.$set(t.config,"testExp",e)},expression:"config.testExp"}}),e("span",{staticStyle:{"margin-left":"20px"}},[t.config.testExp?e("el-tag",[t._v("显示")]):e("el-tag",[t._v("不显示")])],1)],1)],1)],1),e("el-collapse-item",{attrs:{title:"参数配置",name:"2"}},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"550"}},[e("el-table-column",{attrs:{prop:"name",label:"名称",width:"110"}}),e("el-table-column",{attrs:{label:"是否计算",width:"80"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:i.row.isCalc?"计算":"不计算",placement:"right"}},[e("el-switch",{model:{value:i.row.isCalc,callback:function(e){t.$set(i.row,"isCalc",e)},expression:"scope.row.isCalc"}})],1)]}}])}),e("el-table-column",{attrs:{label:"计算方法",width:"130"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("el-input",{attrs:{autocomplete:"off"},model:{value:i.row.multiplier,callback:function(e){t.$set(i.row,"multiplier",e)},expression:"scope.row.multiplier"}},[e("template",{slot:"prepend"},[t._v("1*")])],2)]}}])}),e("el-table-column",{attrs:{width:"130"},scopedSlots:t._u([{key:"header",fn:function(i){return[e("span",[t._v("最小保护值")]),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"小于等于这个值的文字不参与计算",placement:"right"}},[e("i",{staticClass:"el-icon-question"})])]}},{key:"default",fn:function(i){return[e("el-input",{attrs:{autocomplete:"off"},model:{value:i.row.min,callback:function(e){t.$set(i.row,"min",e)},expression:"scope.row.min"}},[e("template",{slot:"append"},[t._v("px")])],2)]}}])}),e("el-table-column",{attrs:{width:"150"},scopedSlots:t._u([{key:"header",fn:function(i){return[e("span",[t._v("最大保护值")]),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"大于等于这个值的文字不参与计算",placement:"right"}},[e("i",{staticClass:"el-icon-question"})])]}},{key:"default",fn:function(i){return[e("el-input",{attrs:{autocomplete:"off"},model:{value:i.row.max,callback:function(e){t.$set(i.row,"max",e)},expression:"scope.row.max"}},[e("template",{slot:"append"},[t._v("px")])],2)]}}])}),e("el-table-column",{attrs:{prop:"styleEnsample",label:"举例"}}),e("el-table-column",{attrs:{prop:"message",label:"备注"}})],1)],1)],1)],1)]),e("div",{staticClass:"ev result"},[e("div",{staticClass:"head flex-yc flex-xb"},[e("p",[t._v("计算结果:")]),e("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-document-copy"},on:{click:function(e){return t.copyTextToClipboard(e)}}},[t._v(" 点击复制 ")])],1),e("pre",[t._v("            "),e("code",{ref:"code",staticClass:"language-css",attrs:{id:"Code"},domProps:{innerHTML:t._s(t.newStyle)}}),t._v("\n          ")])])]),e("div",{class:"tips "+(t.tipShow?"show":"")},[t._v("✅ Copy successfully !!! 🌈")])],1)},s=[],o=i(8880),l=i(3656),n=i.n(l);function r(t){if(null===t||!t)return t;if("[object Object]"===Object.prototype.toString.call(t)){let e={};const i=Object.keys(t);return i.forEach((i=>{t[i]&&"object"===typeof t[i]?e[i]=r(t[i]):e[i]=t[i]})),e}if(Array.isArray(t)){let e=[];return t.forEach(((t,i)=>{e[i]=t&&"object"===typeof t?r(t):t})),e}}var c={name:"computedMedia",components:{Header:o.A},data(){return{oldStyle:"/*\n“手机端代码生成器”是将pc端代码中的px通过可自定义的计算规则生成可供手机端使用的代码\n\n提示：\n1.右上角【设置计算规则】按钮自定义计算规则\n2.生成后的样式可能会影响布局\n3.建议每次少段转换并核验\n4.美化代码超过2000行会严重影响效率，会自动关闭美化功能，可手动开启\n*/\n\n/*示例：↓↓↓*/\n.list li {\n    border-bottom: 10px solid #999;\n    border-bottom: 2px solid #999;\n    border-radius: 10px;\n    border-radius: 5px;\n    border-radius: 100%;\n    background: #409EFF;\n    color: #fff;\n}\n\n.list {\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);\n    margin: 30px auto 5%;\n    padding: 500px 10%;\n    width: 20px;\n    height: 20px;\n\n    font-size: 30px;\n    font-size: 20px;\n    font-size: 12px;\n    transform: translateY(-50px);\n\n    position: absolute;\n    left: 10px;\n    top: calc(100% - 10px);\n    display: flex;\n    gap: 20px 60px;\n    border-width: 20px;\n}",collapseActive:["1","2"],showConfig:!0,showConfig:!1,tipShow:!1,newStyle:"",firstCloseBeautify:!0,firstVisit:!0,beautifyMax:2e3,history:null,defaultConfig:null,config:{isBeautify:!0,autoCopy:!0,saveConfig:!0,decimal:!1,testExp:!1},tableData:[{name:"圆角",attr:"border-radius",styleEnsample:"border-radius: 30px;",isCalc:!0,multiplier:.5,min:10,max:9999,message:"百分比类型不参与计算 border-radius:100%;"},{name:"边框",attr:"border",styleEnsample:"border-bottom: 10px solid #999;",isCalc:!0,multiplier:.5,min:2,max:9999,message:""},{name:"box-shadow",attr:"box-shadow",styleEnsample:"box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);",isCalc:!0,multiplier:.5,min:5,max:9999,message:""},{name:"边距",attr:"margin",styleEnsample:"margin: 30px auto 20px;",isCalc:!0,multiplier:.5,min:0,max:9999,message:"百分比类型不参与计算"},{name:"填充",attr:"padding",styleEnsample:"padding: 500px 20px;",isCalc:!0,multiplier:.5,min:0,max:9999,message:"百分比类型不参与计算"},{name:"宽",attr:"width",styleEnsample:"width: 20px;",isCalc:!0,multiplier:.5,min:0,max:9999,message:""},{name:"高",attr:"height",styleEnsample:"height: 20px;",isCalc:!0,multiplier:.5,min:0,max:9999,message:""},{name:"font-size",attr:"font-size",styleEnsample:"font-size: 30px;",isCalc:!0,multiplier:.75,min:12,max:9999,message:""},{name:"transform",attr:"transform",styleEnsample:"transform: translateY(-50px);",isCalc:!0,multiplier:.5,min:0,max:9999,message:""},{name:"其他属性",attr:"",styleEnsample:"left、top、gap...",isCalc:!0,multiplier:.5,min:0,max:9999,message:""}]}},watch:{oldStyle:{handler:function(t,e){if(this.firstCloseBeautify){var i=t.split("\n").length,a=this.beautifyMax;i>a&&(this.$notify({type:"warning",title:"已自动关闭代码美化",message:"代码超过"+a+"行，在设置项内可手动开启",position:"top-right",duration:1e4,offset:100}),this.firstCloseBeautify=!1,this.config.isBeautify=!1)}this.createdNewStyle()},immediate:!0}},created(){this.defaultConfig={config:r(this.config),tableData:r(this.tableData)}},methods:{switchConfig(){if(this.showConfig=!this.showConfig,0==this.showConfig){this.createdNewStyle();var t={config:this.config,tableData:this.tableData};localStorage.setItem("history",JSON.stringify(t)),this.getHistory()}},createdNewStyle(){let t=this.oldStyle;t=t.replace(/}/g,"}@@@"),t=t.split("@@@");let e=this.computedStyle(t);this.config.autoCopy&&!this.firstVisit&&this.copyTextToClipboard(e),this.config.isBeautify&&(e=n().highlight(e,{language:"css"}).value),this.$nextTick((()=>{this.newStyle=e})),this.firstVisit=!1},computedStyle(t){let e="";return t.forEach((t=>{t=t.replace(/(?<={)(.*\s*(?!}))*/g,(t=>{let e=t.replace(/;/g,";@@@").split("@@@"),i="";return e.forEach(((t,e)=>{if(""!=t.trim())for(var a=0;a<this.tableData.length;a++){var s=this.tableData[a];if(s.isCalc&&-1!=t.indexOf(s.attr)){var o=this.computedPX(t,s.multiplier,s.min,s.max);o+=this.config.testExp?`/*${s.name}*/`:"",i+=o;break}}})),i})),e+=t})),e},computedPX(t,e,i,a){var s=this.config.decimal?2:0;return t.replace(/(\d+px)/g,(t=>{var o=parseFloat(t),l=Math.floor((o*e*100).toFixed(s))/100;return o<=i?l=o:l<=i?l=i:o>=a&&(l=o),l+="px",this.config.testExp&&(l+=`【原：${o}】`),l}))},clearHistory(){this.$confirm("此操作将删除历史记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{localStorage.removeItem("history"),this.history=null,this.$message({type:"success",message:"删除成功!"})})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},getHistory(){var t=localStorage.getItem("history");if(t=t&&JSON.parse(t),t&&t.config){if(this.history=t,!t.config.saveConfig)return void(this.config.saveConfig=!1);this.config=t.config,this.tableData=t.tableData}},changeSaveBtn(){if(console.log(this.config.saveConfig),this.config.saveConfig)this.history&&this.history.config&&(this.history.config.saveConfig=this.config.saveConfig,this.config=this.history.config,this.tableData=this.history.tableData);else{var t=this.defaultConfig;t&&t.config&&(t.config.saveConfig=this.config.saveConfig,this.config=t.config,this.tableData=t.tableData)}},copyTextToClipboard(t){let e=this;if(this.tipShow=!1,t=t||e.$refs.code.innerText,navigator.clipboard)navigator.clipboard.writeText(t).then((function(){e.tipShow=!0}),(function(t){console.error("Async: Could not copy text: ",t)}));else{function i(t){let i=document.createElement("textarea");i.value=t,i.style.top="0",i.style.left="0",i.style.position="fixed",document.body.appendChild(i),i.focus(),i.select();try{document.execCommand("copy");e.tipShow=!0;var a=setTimeout((()=>{e.tipShow=!1,clearTimeout(a)}),1e3)}catch(s){console.error("Fallback: Oops, unable to copy",s)}document.body.removeChild(i)}i(t)}}}},f=c,p=i(1656),m=(0,p.A)(f,a,s,!1,null,"d1693c8e",null),u=m.exports}}]);
//# sourceMappingURL=812.cb9ae6ed.js.map